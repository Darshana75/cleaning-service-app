{"ast":null,"code":"var _jsxFileName = \"D:\\\\Development\\\\Job Assignments\\\\MetaZync\\\\cleaning-service-app\\\\frontend\\\\src\\\\components\\\\BookingList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BookingList({\n  bookings,\n  token,\n  fetchBookings,\n  isAdmin\n}) {\n  _s();\n  const [editingId, setEditingId] = useState(null);\n  const [editedData, setEditedData] = useState({});\n  const handleDelete = async id => {\n    console.log(\"🧨 Calling DELETE /bookings/\" + id);\n    if (!token) {\n      console.error(\"❌ No token available\");\n      return;\n    }\n    try {\n      await axios.delete(`http://localhost:5000/bookings/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"✅ Delete request sent\");\n      fetchBookings();\n    } catch (err) {\n      var _err$response;\n      console.error(\"❌ Delete error:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    }\n  };\n  const startEdit = booking => {\n    var _booking$service_id;\n    setEditingId(booking._id);\n    setEditedData({\n      customer_name: booking.customer_name,\n      address: booking.address,\n      date_time: booking.date_time.slice(0, 16),\n      service_id: ((_booking$service_id = booking.service_id) === null || _booking$service_id === void 0 ? void 0 : _booking$service_id._id) || ''\n    });\n  };\n  const saveEdit = async id => {\n    await axios.put(`http://localhost:5000/bookings/${id}`, editedData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setEditingId(null);\n    fetchBookings();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6 bg-white shadow rounded-xl p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold text-indigo-700 mb-4\",\n      children: \"Your Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 text-sm\",\n      children: \"No bookings found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-3\",\n      children: bookings.map(b => {\n        var _b$service_id;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-indigo-50 border border-indigo-200 rounded-md p-3\",\n          children: editingId === b._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: editedData.customer_name,\n              onChange: e => setEditedData({\n                ...editedData,\n                customer_name: e.target.value\n              }),\n              className: \"w-full px-2 py-1 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: editedData.address,\n              onChange: e => setEditedData({\n                ...editedData,\n                address: e.target.value\n              }),\n              className: \"w-full px-2 py-1 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: editedData.date_time,\n              onChange: e => setEditedData({\n                ...editedData,\n                date_time: e.target.value\n              }),\n              className: \"w-full px-2 py-1 border rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => saveEdit(b._id),\n                className: \"text-sm text-green-600\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditingId(null),\n                className: \"text-sm text-gray-600\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-gray-800\",\n              children: [b.customer_name, \" \\u2014 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: (_b$service_id = b.service_id) === null || _b$service_id === void 0 ? void 0 : _b$service_id.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"\\uD83D\\uDCCD \", b.address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"\\uD83D\\uDD52 \", new Date(b.date_time).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startEdit(b),\n                className: \"text-sm text-blue-600\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(b._id),\n                className: \"text-sm text-red-600\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, b._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingList, \"SMbyI9H/i/f0A6eWwCq+pQbBKQk=\");\n_c = BookingList;\nexport default BookingList;\nvar _c;\n$RefreshReg$(_c, \"BookingList\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingList","bookings","token","fetchBookings","isAdmin","_s","editingId","setEditingId","editedData","setEditedData","handleDelete","id","console","log","error","delete","headers","Authorization","err","_err$response","response","data","message","startEdit","booking","_booking$service_id","_id","customer_name","address","date_time","slice","service_id","saveEdit","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","b","_b$service_id","value","onChange","e","target","type","onClick","name","Date","toLocaleString","_c","$RefreshReg$"],"sources":["D:/Development/Job Assignments/MetaZync/cleaning-service-app/frontend/src/components/BookingList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction BookingList({ bookings, token, fetchBookings, isAdmin }) {\n  const [editingId, setEditingId] = useState(null);\n  const [editedData, setEditedData] = useState({});\n\n  const handleDelete = async (id) => {\n    console.log(\"🧨 Calling DELETE /bookings/\" + id);\n  \n    if (!token) {\n      console.error(\"❌ No token available\");\n      return;\n    }\n  \n    try {\n      await axios.delete(`http://localhost:5000/bookings/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      console.log(\"✅ Delete request sent\");\n      fetchBookings();\n    } catch (err) {\n      console.error(\"❌ Delete error:\", err.response?.data || err.message);\n    }\n  };\n   \n\n  const startEdit = (booking) => {\n    setEditingId(booking._id);\n    setEditedData({\n      customer_name: booking.customer_name,\n      address: booking.address,\n      date_time: booking.date_time.slice(0, 16),\n      service_id: booking.service_id?._id || ''\n    });\n  };\n\n  const saveEdit = async (id) => {\n    await axios.put(`http://localhost:5000/bookings/${id}`, editedData, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    setEditingId(null);\n    fetchBookings();\n  };\n\n  return (\n    <div className=\"mt-6 bg-white shadow rounded-xl p-4\">\n      <h2 className=\"text-xl font-semibold text-indigo-700 mb-4\">Your Bookings</h2>\n      {bookings.length === 0 ? (\n        <p className=\"text-gray-500 text-sm\">No bookings found.</p>\n      ) : (\n        <ul className=\"space-y-3\">\n          {bookings.map(b => (\n            <li key={b._id} className=\"bg-indigo-50 border border-indigo-200 rounded-md p-3\">\n              {editingId === b._id ? (\n                <div className=\"space-y-2\">\n                  <input\n                    value={editedData.customer_name}\n                    onChange={(e) => setEditedData({ ...editedData, customer_name: e.target.value })}\n                    className=\"w-full px-2 py-1 border rounded\"\n                  />\n                  <input\n                    value={editedData.address}\n                    onChange={(e) => setEditedData({ ...editedData, address: e.target.value })}\n                    className=\"w-full px-2 py-1 border rounded\"\n                  />\n                  <input\n                    type=\"datetime-local\"\n                    value={editedData.date_time}\n                    onChange={(e) => setEditedData({ ...editedData, date_time: e.target.value })}\n                    className=\"w-full px-2 py-1 border rounded\"\n                  />\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => saveEdit(b._id)} className=\"text-sm text-green-600\">Save</button>\n                    <button onClick={() => setEditingId(null)} className=\"text-sm text-gray-600\">Cancel</button>\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <p className=\"font-medium text-gray-800\">\n                    {b.customer_name} — <span className=\"text-sm text-gray-600\">{b.service_id?.name}</span>\n                  </p>\n                  <p className=\"text-sm text-gray-600\">📍 {b.address}</p>\n                  <p className=\"text-sm text-gray-600\">🕒 {new Date(b.date_time).toLocaleString()}</p>\n                  <div className=\"flex gap-3 mt-2\">\n                    <button onClick={() => startEdit(b)} className=\"text-sm text-blue-600\">Edit</button>\n                    <button onClick={() => handleDelete(b._id)} className=\"text-sm text-red-600\">Delete</button>\n                  </div>\n                </>\n              )}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default BookingList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}